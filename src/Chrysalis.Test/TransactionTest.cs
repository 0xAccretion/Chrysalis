using Chrysalis.Cardano.Models;
using Chrysalis.Cbor;

namespace Chrysalis.Test;

public class TransactionTest
{
    public static readonly string originalTransactionCborHex = "84A400858258207E79511FF1E20B4A47B93152BA033B365BED427BE65A7DB7520045BDE58A0327018258200312AE1EE8A8756179A9E1844E3E591CB15114AA1F9C9BEA181AC838F82E94FE00825820B5E787BD2BBABD34CB4F5D72F092121B7A32992576D45BC5ED8C451B63FAFC7A008258209561256F19EEB08AF7C29344B1157B112C33663096ADAA14E5A4F009D1DD234800825820AE5FBA947FB2E1AD7A044D0BC11189CA9CB18532859B8C5841B960C4221E4D5501018282583901E63022B0F461602484968BB10FD8F872787B862ACE2D7E943292A37003EC6A12860EF8C07D4C1A8DE7DF06ACB0F0330A6087ECBE972082A7821A001629B6A1581C6F37A98BD0C9CED4E302EC2FB3A2F19FFBA1B5C0C2BEDEE3DAC30E56A45148595045534B554C4C535F56545F505F45015148595045534B554C4C535F56545F565F43015248595045534B554C4C535F56545F4D5F4545015348595045534B554C4C535F56545F41435F45450182583901E63022B0F461602484968BB10FD8F872787B862ACE2D7E943292A37003EC6A12860EF8C07D4C1A8DE7DF06ACB0F0330A6087ECBE972082A71A00817E1C021A0002BD7D031A064144F6A100818258206395DDF277DCCA535AAB1C5C65680E8C73AAE3AB883060EF88C45A2DDE1287325840B1917516E6B2F5AB51060A2D7A7C4B7DD61DED3E8BFA99EC9E26F15F22E2E2B858FA21C24BB3722076C87FF79D22D136B64C2AE8FEA9FDEB5DB563B0DFEBCC02F5F6";
    
    [Fact]
    public void TransactionSerializationDeserializationTest()
    {
        var originalTransaction = CborSerializerV2.FromHex<Transaction>(originalTransactionCborHex)!;
        var serializedTransaction = CborSerializerV2.Serialize(originalTransaction);
        var deserializedTransaction = CborSerializerV2.Deserialize<Transaction>(serializedTransaction);
        var txId = originalTransaction.Id;
    }
}
